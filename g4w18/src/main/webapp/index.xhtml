<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="icon" type="image/x-icon" href="#{resource['images/favicon.ico']}"/>
        <h:outputStylesheet library="css" name="style.css" />
        <h:outputStylesheet library="css" name="_animations.css" />
        <h:outputStylesheet library="css" name="parallax.css" />
        <h:outputStylesheet library="css" name="navbar.css" />
        <h:outputStylesheet library="css" name="footer.css" />
        <h:outputStylesheet library="css" name="_genres.css" />
        <h:outputStylesheet library="css" name="_books.css" />
        <h:outputStylesheet library="css" name="_onsale.css" />
        <h:outputStylesheet library="css" name="_banner.css" />
        <h:outputStylesheet library="css" name="_survey.css" />
        <h:outputStylesheet library="css" name="_rss.css" />
        <h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
        <h:outputScript library="js" name="banner.js" />
        <h:outputScript library="js" name="onsale.js" />
        <h:outputScript library="js" name="rss.js" />
    </h:head>
    <h:body>
        
        <nav class="navbar">
            <h:link outcome="index">
                <div class="logo"></div>
            </h:link>

            <div class="right">
                
                <h:form id="searchForm" class="search-icon-container">
                    
<!--                     <select>
                         <ui:repeat value="#{searchBackingBean.searchOptionValue}" var="option">
                             <option value="#{option}">#{option}</option>
                         </ui:repeat>
                      </select> 
                    -->
<!--                    <p:selectOneMenu styleClass="search-options" id="searchOption" value="#{searchBackingBean.searchOption}">
                        <f:selectItem itemLabel="#{msgs.searchSelection}" itemValue="" noSelectionOption="true" />
                        <f:selectItems value="#{searchBackingBean.searchOptionValue}" />
                    </p:selectOneMenu>-->

                    
                    <h:inputText class="search-input" value="#{searchBackingBean.searchTerm}" />

                    <h:commandLink action="#{searchBackingBean.search}">
                        <h:graphicImage id="t1" class="navbar-icon" library="images" name="search.png" alt="Search Icon" />
                    </h:commandLink>
                
                </h:form>

                <h:link outcome="shopping_cart">
                    <h:graphicImage class="navbar-icon" library="images" name="shopping-cart.png" alt="Shoppping Cart Icon" />
                </h:link>
                
                <h:link class="login" value="#{msgs.loginbutton}" outcome="login" />
                
                <script>
                    var $searchInput = $(".search-input").first();
                    
                    $("#searchForm\\:t1").mouseenter(function()
                    {
                        $searchInput.stop();
                        $searchInput.show();
                        $searchInput.animate({width: "200px"}, 900, function()
                        {
                            
                        });
                    });
                    
                    $searchInput.focusout(function()
                    {
                        $searchInput.stop();
                        $searchInput.animate({width: "0px"}, 900, function()
                        {
                            $searchInput.hide();
                        });
                    });
                </script>
            </div>
        </nav>

        <div class="parallax">

            <div class="parallax-layer background"></div>


            <div class="content">

                <div class="top-section">
                    <div id="recent-books">
                        
                        <ui:repeat value="#{theBooks.mostRecentBooks}" var="book">
                            <div class="book">
                                <div class="book-thumbnail-container">
                                    <div class="overlay"></div>
                                    <div class="overlay-text"><div>View</div></div>
                                    <h:graphicImage class="book-thumbnail" library="images" name="#{book.isbnNumber}hi.jpg" />
                                </div>
                            </div>
                        </ui:repeat>
                        
                        <a class="view-more" href="">View More</a>
                    </div>

                    <div id="genres">
                        <div class="outer">
                            <ui:repeat value="#{theBooks.genres}" var="genre">
                                <a class="genre-title" href="#">#{genre}</a>
                            </ui:repeat>
                        </div>
                    </div>

                    <div id="book-sales">
                        
<!--                        <h:form style="font-size: 14px;">
                            <a>testing</a>
                                <h:commandLink action="bookDetail.xthml">
                                    <f:param name="id" value="1" />
                                    <h1>1</h1>
                                </h:commandLink>
                            
                        </h:form>
                        -->
                        <h:form>
                        
                            <ui:repeat value="#{theBooks.booksOnSale}" var="book">
                                <h:commandLink action="bookDetail">
                                    <f:param name="id" value="#{book.bookId}" />

                                    <div class="book">
                                        <div class="book-thumbnail-container">
                                            <div class="overlay"></div>
                                            <div class="overlay-text"><div>View</div></div>
                                            <h:graphicImage class="book-thumbnail" library="images" name="#{book.isbnNumber}hi.jpg" />
                                        </div>
                                    </div>

                                </h:commandLink>
                            </ui:repeat>
                            
                        </h:form>

                        <a class="view-more" href="">View More</a>

                        <a class="prev disabled">&#10094;</a>
                        <a class="next">&#10095;</a>
                    </div>

                    <div id="banner">
                        <div class="slide">
                            
                            <h:graphicImage class="slide-img" library="images" name="slide1.jpg" alt="Ad 1" />
                            <h:graphicImage class="slide-img" library="images" name="slide2.jpg" alt="Ad 2" />
                            <h:graphicImage class="slide-img" library="images" name="slide3.jpg" alt="Ad 3" />
                            <h:graphicImage class="slide-img" library="images" name="slide4.jpg" alt="Ad 4" />
                         </div>

                        <a class="prev">&#10094;</a>
                        <a class="next">&#10095;</a>

                        <div class="dots-container"></div>
                    </div>

                    <div id="rss-feed">

                        <div class="center-vertical">
                            <div>
                                <h2>Read, Watch &amp; Discuss! Five great book club books that are now movies</h2>
                                <br/>
                                <p>
        Of course, we think any season is the right season to read, but winter can be a perfect time to read <i>and </i>watch! What better way to keep busy in these cold, dark months than reading with your book club, watching the movie version and then discussing both?
                                </p>
                            </div>
                        </div>
                        <div class="overlay"></div>
                        <div class="overlay-text"><div>Read More</div></div>
                    </div>

                    <div id="survey">
                        <div class="center-vertical center-horizontal">
                            <div>
                                <h2>Survey coming soon...</h2>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>
        
    </h:body>
</html>

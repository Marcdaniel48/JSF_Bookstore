<ui:composition
    template="/WEB-INF/layouts/master.xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:b="http://bootsfaces.net/ui">

    <!-- Salman Haidar and Jephthia Louis  -->
    
    <ui:define name="content">

        <div class="page_container">
            <div class="img-bg"></div>
            <b:container fluid="false">
                <b:row>
                    <h1 style="text-align: center;">Your Downloads</h1>
                    <b:form>
                        <ui:repeat var="client" value="#{downloadx.clientInfo}" varStatus="counter"  >
                            <b:row>
                                <h3>Bought on #{client.saleDate}</h3>
                            </b:row>
                                <b:row>
                                    <ui:repeat var="invoice" value="#{client.invoiceDetailList}">

                                        <b:column col-md="3">
                                            <b:thumbnail>
                                                <b:image library="images" name="#{invoice.bookId.isbnNumber}hi.png" tooltip="#{invoice.bookId.title}" width="100%"></b:image>
                                                <f:facet name="caption">
                                                    <h4>$#{invoice.bookPrice} CAD</h4>
                                                    <h:commandLink style="color: blue;" value="#{msgs.managerDownload}">
                                                        <p:fileDownload value="#{downloadx.file}" />
                                                    </h:commandLink>
                                                </f:facet>
                                            </b:thumbnail>

                                        </b:column>

                                    </ui:repeat>

                                </b:row>
                            <hr/>
                        </ui:repeat>


                    </b:form>
                </b:row>
            </b:container>
        </div>
    </ui:define>

</ui:composition>